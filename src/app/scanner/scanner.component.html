<button mat-stroked-button [color]="'primary'" class="w-full"
    (click)="toggleScanner()"><mat-icon>qr_code_scanner</mat-icon> {{isShowScanner
    ? 'áº¨n' : 'Hiá»‡n'}}
    mÃ¡y quÃ©t</button>
<div class="w-full h-full flex items-center flex-col">
    @if (loading) {
    <mat-spinner></mat-spinner>
    Äang chuáº©n bá»‹ dá»¯ liá»‡u
    }
    @if (isShowScanner && !loading) {
    <div class="w-full lg:w-1/2">
        <cp-qr-scanner (qrData)="scanComplete($event)"></cp-qr-scanner>
    </div>
    }
    @if(promotion?.voucher && promotion?.customer) {
    <div class="w-full p-3">
        @if (promotion?.customer) {
        <div class="font-bold">KhÃ¡ch hÃ ng</div>
        <table class="w-full">
            <tbody>
                @if (promotion?.customer?.id) {
                <tr>
                    <td class="px-3">MÃ£:</td>
                    <td class="px-3">{{promotion?.customer?.id}}</td>
                </tr>
                }
                @if (promotion?.customer?.name) {
                <tr>
                    <td class="px-3">TÃªn:</td>
                    <td class="px-3">{{promotion?.customer?.name}}</td>
                </tr>
                }
                @if (promotion?.customer?.phone) {
                <tr>
                    <td class="px-3">Sá»‘ Ä‘iá»‡n thoáº¡i/Zalo:</td>
                    <td class="px-3">{{promotion?.customer?.phone}}</td>
                </tr>
                }
            </tbody>
        </table>
        }
        @if (promotion?.voucher) {
        <div class="font-bold">ChÆ°Æ¡ng trÃ¬nh</div>
        <table class="w-full">
            <tbody>
                @if (promotion?.voucher?.id) {
                <tr>
                    <td class="px-3">MÃ£:</td>
                    <td class="px-3">{{promotion?.voucher?.id}}</td>
                </tr>
                }
                @if (promotion?.voucher?.name) {
                <tr>
                    <td class="px-3">TÃªn:</td>
                    <td class="px-3">{{promotion?.voucher?.name}}</td>
                </tr>
                }
            </tbody>
        </table>
        }
        @if (promotion?.foundData?.length > 0) {
        @if (promotion?.voucher?.rawTicks?.length > 0) {
        <div><strong>ÄÃ£ tÃ­ch Ä‘iá»ƒm: </strong> <span class="text-4xl"> {{promotion?.foundData?.length ?
                (promotion?.foundData?.length - 1 |
                number:
                '2.0-0') : ''}}/{{promotion?.voucher?.rawTicks?.length | number: '2.0-0'}}</span></div>
        } @else {
        <div>
            <strong>ÄÃ£ dÃ¹ng? </strong>
            @if (promotion?.foundData?.length > 1) {
            <span class="text-4xl">ÄÃ£ dÃ¹ng</span>
            } @else {
            <span class="text-4xl">ChÆ°a dÃ¹ng</span>
            }
        </div>
        }
        }
        @if (promotion?.foundData?.length > 0 && isShowUpdateAction) {
        <button mat-flat-button [color]="'primary'" class="w-full my-6" (click)="updatePath()">Cáº­p nháº­t</button>
        @if (googleFormsPath) {
        <button class="w-full" mat-stroked-button [color]="'primary'" (click)="googleFormsPath = ''">ÄÃ³ng biá»ƒu
            máº«u</button>
        <div><strong class="text-[red]">LÆ¯U Ã:</strong> HÃ£y áº¤n nÃºt "Gá»­i" hoáº·c "Submit" trong Biá»…u Máº«u bÃªn dÆ°á»›i ğŸ‘‡ğŸ‘‡ğŸ‘‡
            thÃ¬ báº¡n má»›i hoÃ n thÃ nh viá»‡c Ä‘Äƒng kÃ½ nhÃ©!</div>
        <div><strong class="text-[red]">LÆ¯U Ã:</strong> Má»—i khi hoÃ n thÃ nh viá»‡c táº¡o báº¡n nhá»› áº¥n nÃºt "ÄÃ³ng biá»ƒu máº«u Ä‘á»ƒ lÃ m
            má»›i nhÃ©!"</div>
        <iframe [src]="googleFormsPath | safe" class="w-full min-h-96" frameborder="0"></iframe>
        <div><strong class="text-[red]">LÆ¯U Ã:</strong> HÃ£y áº¤n nÃºt "Gá»­i" hoáº·c "Submit" trong Biá»…u Máº«u bÃªn trÃªn ğŸ‘†ğŸ‘†ğŸ‘†
            thÃ¬ báº¡n má»›i hoÃ n thÃ nh viá»‡c Ä‘Äƒng kÃ½ nhÃ©!</div>
        <div><strong class="text-[red]">LÆ¯U Ã:</strong> Má»—i khi hoÃ n thÃ nh viá»‡c táº¡o báº¡n nhá»› áº¥n nÃºt "ÄÃ³ng biá»ƒu máº«u Ä‘á»ƒ lÃ m
            má»›i nhÃ©!"</div>
        }
        }
    </div>
    <app-voucher-image class="w-full" [class]="{'lg:w-1/2': isShowScanner}" [voucher]="promotion?.voucher"
        [readonly]="true"></app-voucher-image>
    }
</div>